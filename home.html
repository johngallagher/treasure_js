
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />
  <title>Arnold Clark | New & Used Cars</title>
  <meta name="msvalidate.01" content="8E54C42B30453DD6BFE6E4F007C083DB" />
  <meta name="y_key" content="c4f9b7609154b226" />
  <meta name="description" content="Use Arnold Clark's award-winning new and used car search to find great deals across a range of manufacturers, makes and models." />
  <meta name="index_id" content="118" />
  <meta name="index_source" content="/default/index.html" />
  <meta name="index_frequency" content="weekly" />
  <meta name="index_priority" content="0.5" />
  <meta name="index_lastmod" content="2013-12-30T10:21:09+00:00" />
  <meta name="index_pagination" content="true" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <meta name="msvalidate.01" content="5B2874559BAB1AEEC3A046185BDB60BB" />
    <!--[if gt IE 8]>
    <link rel="stylesheet" href="http://cdn.arnoldclark.com/assets/styles/default-new.css" type="text/css" charset="utf-8" />
    <![endif]-->
    <!--[if !(IE)]><!-->
    <link rel="stylesheet" href="/css/default-new.css" type="text/css" charset="utf-8" />
    <!--<![endif]-->
    <!--[if lt IE 9]>
<link rel="stylesheet" href="http://cdn.arnoldclark.com/assets/styles/default-new-no-media.css" type="text/css" charset="utf-8" />
<![endif]-->
    <!--[if IE 6]>
<link rel="stylesheet" href="http://cdn.arnoldclark.com/assets/styles/ie6.css" type="text/css" charset="utf-8" />
<script defer src="http://cdn.arnoldclark.com/assets/js/pngfix.js" type="text/javascript" charset="utf-8"></script>
<![endif]-->
    <!--[if IE 7]>
<link rel="stylesheet" href="http://cdn.arnoldclark.com/assets/styles/ie7.css" type="text/css" charset="utf-8" />
<![endif]-->
    <!--[if IE 8]>
<link rel="stylesheet" href="http://cdn.arnoldclark.com/assets/styles/ie8.css" type="text/css" charset="utf-8" />
<![endif]-->
    <!--[if IE 9]>
<link rel="stylesheet" href="http://cdn.arnoldclark.com/assets/styles/ie9.css" type="text/css" charset="utf-8" />
<![endif]-->
<link rel="stylesheet" href="/css/print.css" type="text/css" media="print" charset="utf-8" />
  <link href="css/application.css" media="all" rel="stylesheet" type="text/css">
  <link href="select2/select2.css" media="all" rel="stylesheet" type="text/css">

<meta name="generator" content="Wildfire Spark - http://www.wildfire-it.com" />
</head>
<body class="home serps w-page-edit">
  <div id="w-container100" class="w-container">&nbsp;</div>
  <noscript id="cookie-banner-noscript">
    <div class="cookie-banner">
      <div class="x">
        <p>
          Cookies help us give you the best possible online experience. Read our
          <a href="/cookies">cookie policy</a>
          to find out more.
          <span class="cookie-info" title="If you continue without changing your cookie settings, we'll assume that you are happy to receive all cookies from ArnoldClark.com">If you continue without changing your cookie settings, we'll assume that you are happy to receive all cookies from ArnoldClark.com</span>
        </p>
        <a href="#" id="close-cookie-banner">Close cookie message</a>
      </div>
    </div>
  </noscript>
  <div class="quick-links">
    <ul>
      <li id="departments-li">
        <select name="departments">
          <option value="#">Select a Department</option>
          <option value="/about-us/">About Us</option>
          <option value="/accident-repairs/">Accident Repairs</option>
          <option value="/accist/">Accist Accident Management</option>
          <option value="http://www.arnoldclarkdrum.com/">Arnold Clark Drum</option>
          <option value="http://www.acvm.co.uk/">Arnold Clark Vehicle Management</option>
          <option value="/business-sales/">Business Sales</option>
          <option value="http://www.arnoldclarkrental.com/">Car &#38; Van Rental</option>
          <option value="/careers/">Careers</option>
          <option value="/coachbuilders/">Coachbuilders</option>
          <option value="/customer-services/">Contact Us</option>
          <option value="/customer-services/">Customer Services</option>
          <option value="http://www.gtg.co.uk/">GTG Training</option>
          <option value="http://www.harryfairbairn.co.uk">Harry Fairbairn</option>
          <option value="/insurance/">Insurance</option>
          <option value="http://www.machargs.com/">Machargs</option>
          <option value="/motability/">Motability</option>
          <option value="/nearly-new-cars/">Nearly New Car Offers</option>
          <option value="/new-cars/">New Car Offers</option>
          <option value="/newsroom/">Newsroom</option>
          <option value="/parts/">Parts and Accessories</option>
          <option value="/servicing/">Servicing and Repairs</option>
          <option value="/used-cars/">Used Car Offers</option>
          <option value="/van-sales/">Van Sales</option>
          <option value="/servicing/complete-aftercare-range.html">Vehicle Aftercare Products</option>
        </select>
      </li>
      <li>
        <a href="/">Home</a>
      </li>
      <li>
        <a href="/used-cars/">Used Cars</a>
      </li>
      <li>
        <a href="/new-cars/">New Cars</a>
      </li>
      <li>
        <a href="/careers/">Careers</a>
      </li>
      <li>
        <a href="/newsroom/">Car News</a>
      </li>
      <li>
        <a href="/customer-services">Contact us</a>
      </li>
      <li class="ql-facebook">
        <a href="http://www.facebook.com/ArnoldClarkAutomobiles" target="_BLANK">Follow us on Facebook</a>
      </li>
      <li class="ql-twitter">
        <a href="http://twitter.com/ArnoldClark" target="_BLANK">Follow us on Twitter</a>
      </li>
    </ul>
  </div>
  <div class="header">
    <div class="x">
      <a href="/" id="branding">Arnold Clark</a>
    </div>
  </div>
  <!-- end of header -->
  <div class="wrapper">
    <div class="part-1">
      <div class="section">
        <div class="search" style="padding-top: 0; margin-top: 0; padding-left: 0; margin-left: 0; padding-right: 0; margin-right: 0; padding-bottom: 0; margin-bottom: 0; border: 0;">

          <div class="section">
            <div id="w-container1" class="w-container">
              <div class="w-component-wrapper">
                <div>
                  <div class="w-component-content">
                    <div>
                      <div class="home-qs">


                        <form id="autocomplete-remote">
                          <input style="width: 100% !important; padding: 5px; font-size: 12px;" type="text" id="select2" autocomplete="off">
                        </form>


                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id="results">
      </div>

    <!--[if lt IE 8]>
  <script src="http://cdn.arnoldclark.com/assets/js/json2.js" type="text/javascript" charset="utf-8"></script>
  <![endif]-->
    <!--[if lt IE 9]>
  <script src="http://cdn.arnoldclark.com/assets/js/ie-functions.js" type="text/javascript" charset="utf-8"></script>
  <![endif]-->
  <script type="text/javascript" src='jquery/jquery.js'></script>
  <script type="text/javascript" src='select2/select2.js'></script>
  <script type="text/javascript" src='node_modules/backbone/node_modules/underscore/underscore.js'></script>
  <script type="text/javascript" src='node_modules/backbone/backbone.js'></script>

  <script type="text/template" id="results-template">
  <form>
  <div class="content">
  <div class="w-component-content">
  <div>
<ul class="hlisting">

  <% _.each( vehicles, function( thisVehicle){  %>
  <li rel="ARNEF-U-8170" class="hproduct">
    <h2 class="fn">
      <a href="/used-cars/honda/civic/1.4i-s-3dr/2002-(02)/ref/arnef-u-8170/"><%= thisVehicle.get('year') %> <%= thisVehicle.get('make') %> <%= thisVehicle.get('model') %></a>
    </h2>
    <p class="summary"><%= thisVehicle.get('variant') %></p>
    <ul class="price-info">
      <li class="price">Â£<%= thisVehicle.get('price') %></li>
    </ul>
    <ul>
      <li>
        <a class="button url" href="/used-cars/honda/civic/1.4i-s-3dr/2002-(02)/ref/arnef-u-8170/">More Details<span>about Honda Civic</span>
        </a>
      </li>
      <li>
        <a class="button shortlist" rel="ARNEF-U-8170" href="#">Add&nbsp;<span><em>&nbsp;</em>Honda Civic</span>to shortlist</a>
      </li>
    </ul>

    <ul class="description">
      <li class="ch-fueltype"><%= thisVehicle.get('fuel_type') %></li>
      <li class="ch-miles">Mileage <%= thisVehicle.get('mileage') %></li>
    </ul>
    <ul class="description-right">
      <li class="ch-bodytype Hatchback"><%= thisVehicle.get('body_type') %>&nbsp;</li>
      <li class="ch-color Silver"><%= thisVehicle.get('colour') %></li>
    </ul>
  </li>

    <% }) %>
</ul>
</div>
</div>
</div>

</form>

  </script>

  <script type="text/javascript">

  var VehicleModel = Backbone.Model.extend({
    description: function() {
      return [this.get('make'), this.get('model'), this.get('variant')].join(" ")
    }
  });

  var ResultsView = Backbone.View.extend({
    template: _.template($('#results-template').html()),
    render: function() {
      $('#results').html(this.template({vehicles: vehicles.toArray()}));
    }
  });

  var VehicleCollection = Backbone.Collection.extend({
    model: VehicleModel,

    urlRoot: 'http://jgmacbookpro.local:3000/api/v1/searches.json',
    query: function() {
      return $('#select2').select2("val").join("||");
    },

    url: function () {
      return 'http://jgmacbookpro.local:3000/api/v1/searches.json?q=' + this.query();
    }
  });

  var vehicles = new VehicleCollection();
  var results = new ResultsView();

  $(document).ready(function() {
    $('#select2').select2({
      initSelection : function (element, callback) {
        var data = [];
        $(element.val().split(" ")).each(function () {
            data.push({id: this, text: this});
        });
        callback(data);
      },
      multiple: true,
      minimumInputLength: 0,
      closeOnSelect: true,
      openOnEnter: false,
      width: "off",
      ajax: { 
        url: 'http://jgmacbookpro.local:3000/api/v1/terms.json',
        data: function (term, page) {
          return {
            q: term,
            terms: $('#select2').select2("val")
          };
        },
        results: function (data, page) { 
          return {results: data};
        }
      }
    });

    var makeTermsEnglishLike = function() {
      // English languageify the terms in the search box
      terms = $('#select2').select2("data");
      // Sort terms so all fuel types are together, all colours are together etc
      sortedTerms = _.sortBy(terms, function(term) { 
        return term["id"].split("-")[0] 
      });
      // Prepend "or" onto the text of every term that's adjacent to one of the same type.
      // eg   |x Petrol| |x or Diesel|
      var lastTermType; 

      _.each(sortedTerms, function(term) { 
        termType = term["id"].split("-")[0];
        termText = term["text"];
        if(lastTermType == termType) { 
          termIsMissingOr = (termText.indexOf("or ") != 0);
          if(termIsMissingOr) {
            term["text"] = "or " + termText; 
          }
        } else { 
          lastTermType = termType; 
        } 
      });

      $('#select2').select2("data", sortedTerms);
    };

    $('#select2').on("change", function(e) { 
      $('#s2id_autogen1').val("");
      makeTermsEnglishLike();
      $('#select2').select2("open");
    });

    $('#select2').on("select2-removed", function(e) { 
      makeTermsEnglishLike();
      $("form#autocomplete-remote").submit();
    });

    $('#s2id_autogen1').on("focus", function(e) {
      $(this).hide();
      webkitRequestAnimationFrame(function() { 
        $(document).scrollTop(95);
        $(this).show();
      }.bind(this));
    });

    $('form#autocomplete-remote').submit(function(e) {
      vehicles.fetch({
        success: function(collection, response) {
          results.render();
        }
      });
      e.preventDefault();
    });
  });

</script>
  

</body>
</html>

